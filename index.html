<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Care App">
    <meta name="theme-color" content="#ffffff">
    <title>CareApp</title>
    <link rel="apple-touch-icon" href="c3d0666bfcbd9b846f72.png">
    <style>
      body {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
        overscroll-behavior: none;
        position: fixed;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      
      .container {
        height: calc(100vh - 60px);
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        position: relative;
      }
      
      .header {
        position: fixed;
        top: 0;
        width: 100%;
        background: #fff;
        z-index: 1000;
        padding: env(safe-area-inset-top) 0 0 0;
      }
      
      .pull-to-refresh {
        position: absolute;
        top: -50px;
        left: 50%;
        transform: translateX(-50%);
        width: 30px;
        height: 30px;
        border: 3px solid #ccc;
        border-top-color: #007AFF;
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.3s;
      }
      
      .pull-to-refresh.active {
        opacity: 1;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        to { transform: translateX(-50%) rotate(360deg); }
      }
    </style>
  <script defer src="main.js"></script></head>
  <body>
    <div class="header">
      <div id="new-item-form">
        <form id="new-task-form">
          <div class="form-group">
            <label for="task-name">שם:</label>
            <input type="text" id="task-name" name="new-task-name" required>
          </div>
          <div class="form-group">
            <label for="task-description">תיאור:</label>
            <input type="text" id="task-description" name="new-task-description" required>
          </div>
          <button type="submit" id="submit-new-task"></button>
        </form>
        </div>
      <div id="actions" style="visibility: hidden">
              <div class="action-item" id="add-food-action">
          <img class="action-icon" src="c2287512b2fb76fdf8be.png" alt="plus-icon"></img>
          <button id="add-food">אוכל </button>
        </div>
        <div class="action-item" id="add-sleep-action">
          <img class="action-icon" src="c2287512b2fb76fdf8be.png" alt="plus-icon"></img>
          <button id="add-sleep">שינה </button>
        </div>
        <div class="action-item" id="add-drink-action">
          <img class="action-icon" src="c2287512b2fb76fdf8be.png" alt="plus-icon"></img>
          <button id="add-drink">שתייה </button>
        </div>
        <div class="action-item" id="add-shower-action">
          <img class="action-icon" src="c2287512b2fb76fdf8be.png" alt="plus-icon"></img>
          <button id="add-shower">מקלחת </button>
        </div>
      
      </div>
      <img src="5cb191d6ff47e6ab6305.png" alt="menu-icon" id="menu-icon" />
    </div>
    <div class="container">
      <div class="task-list">
       <div class="list-headers">
        <div id="header-item-name">משימה</div>
        <div id="header-item-status" >סטטוס</div>
        <div id="header-item-description">תיאור</div>
        <div id="header-item-time">שעה</div>
        <div id="header-item-time">פעולות</div>
    
      </div>
      <div class="work-item-list">
     <!--    <div class="work-item">
          <div id="work-item-name">נוטרילון</div>
          <div id="work-item-status" class="waiting">ממתין לביצוע</div>
          <div id="work-item-desc">200 מ״ל</div>
          <div id="work-item-hour">-</div>
          <button id="work-item-action">סמן כבוצע</button>
        </div> -->
      </div>
    
    </div>
      </div>
    
    <script>
      // Pull to refresh functionality
      const container = document.querySelector('.container');
      const pullToRefresh = document.createElement('div');
      pullToRefresh.className = 'pull-to-refresh';
      container.insertBefore(pullToRefresh, container.firstChild);

      let startY = 0;
      let pullDistance = 0;
      const threshold = 60;

      container.addEventListener('touchstart', (e) => {
        if (container.scrollTop === 0) {
          startY = e.touches[0].clientY;
        }
      });

      container.addEventListener('touchmove', (e) => {
        if (container.scrollTop === 0) {
          pullDistance = e.touches[0].clientY - startY;
          if (pullDistance > 0) {
            e.preventDefault();
            pullToRefresh.style.opacity = Math.min(pullDistance / threshold, 1);
            if (pullDistance > threshold) {
              pullToRefresh.classList.add('active');
            } else {
              pullToRefresh.classList.remove('active');
            }
          }
        }
      });

      container.addEventListener('touchend', () => {
        if (pullDistance > threshold) {
          // Trigger refresh
          refreshContent();
        }
        pullDistance = 0;
        pullToRefresh.style.opacity = 0;
        pullToRefresh.classList.remove('active');
      });

      function refreshContent() {
        // Add your refresh logic here
        // For example, reload the work items
        const workItemList = document.querySelector('.work-item-list');
        // Simulate loading delay
        setTimeout(() => {
          // Your refresh logic here
          console.log('Refreshing content...');
        }, 1000);
      }
    </script>
  </body>
</html>